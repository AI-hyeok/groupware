<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TECH X - 회원가입 약관 동의</title>
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            width: 80%;
            max-width: 800px;
            margin: 2rem auto;
            background-color: white;
            padding: 2rem;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        h1 {
            text-align: center;
            color: #007bff;
            margin-bottom: 2rem;
            font-size: 1.8rem;
        }
        h2 {
            color: #0056b3;
            margin-top: 1.5rem;
            font-size: 1.4rem;
            border-bottom: 1px solid #ddd;
            padding-bottom: 0.5rem;
        }
        p {
            margin-bottom: 1rem;
        }
        ul {
            padding-left: 1.5rem;
        }
        li {
            margin-bottom: 0.5rem;
        }
        .terms-box {
            height: 200px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 1rem;
            margin-bottom: 1rem;
            background-color: #f9f9f9;
            border-radius: 4px;
        }
        .checkbox-group {
            margin: 1.5rem 0;
        }
        .checkbox-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }
        .checkbox-item input {
            margin-top: 5px;
            margin-right: 10px;
        }
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }
        .btn {
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        .btn-primary {
            background-color: #007bff;
            color: white;
        }
        .btn-primary:hover {
            background-color: #0056b3;
        }
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        .btn-secondary:hover {
            background-color: #545b62;
        }
        .attention {
            color: #dc3545;
            font-weight: bold;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>TECH X 그룹웨어 회원가입 약관 동의</h1>

    <p>TECH X 그룹웨어 서비스를 이용해 주셔서 감사합니다. 서비스 이용을 위해 아래 약관에 동의해 주시기 바랍니다.</p>

    <div class="terms-box">
        <h2>조직도 및 연락처 정보 제공 동의서</h2>

        <h3>제1조 (목적)</h3>
        <p>본 동의서는 TECH X에서 제공하는 그룹웨어 서비스 내 조직도 및 연락처 기능에서 직원 간 원활한 업무 소통을 위해 개인정보를 공유하는 것에 대한 동의 절차를 규정하는 것을 목적으로 합니다.</p>

        <h3>제2조 (수집 및 이용 항목)</h3>
        <p>회사는 직원 간 업무 협업을 위해 다음과 같은 개인정보를 수집 및 이용할 수 있습니다.</p>
        <ul>
            <li><strong>필수 항목</strong>: 성명, 직책, 부서, 사내 연락처(내선번호, 이메일), 사원번호</li>
            <li><strong>선택 항목</strong>: 휴대전화 번호, 프로필 사진, 기타 개별적으로 등록한 정보</li>
        </ul>

        <h3>제3조 (개인정보 이용 목적)</h3>
        <p>수집된 개인정보는 다음의 목적을 위해 활용됩니다.</p>
        <ul>
            <li>조직도 및 연락처 제공을 통한 원활한 업무 협업 지원</li>
            <li>직원 간의 효율적인 의사소통 및 업무 편의성 증대</li>
            <li>내부 메신저, 일정 공유, 전자결재, 회의실/비품 예약 등의 그룹웨어 기능 연계</li>
            <li>업무 관련 알림 및 공지사항 전달</li>
        </ul>

        <h3>제4조 (개인정보 보유 및 이용 기간)</h3>
        <ul>
            <li>직원의 개인정보는 재직 기간 동안 보유 및 이용됩니다.</li>
            <li>퇴사 시 해당 정보는 즉시 삭제되거나, 법령이 정하는 기간 동안 보관 후 파기됩니다.</li>
            <li>단, 법률상 보존이 필요한 경우 해당 법률에 따라 일정 기간 동안 보관될 수 있습니다.</li>
        </ul>

        <h3>제5조 (개인정보 제3자 제공)</h3>
        <ul>
            <li>수집된 개인정보는 원칙적으로 제3자에게 제공되지 않습니다.</li>
            <li>다만, 법령에 따른 요청이 있는 경우 또는 직원이 별도로 동의한 경우에 한하여 제공될 수 있습니다.</li>
        </ul>

        <h3>제6조 (동의 철회 및 개인정보 수정)</h3>
        <ul>
            <li>직원은 언제든지 개인정보 제공에 대한 동의를 철회할 수 있으며, 동의 철회 시 일부 그룹웨어 기능이 제한될 수 있습니다.</li>
            <li>개인정보 수정이 필요한 경우, TECH X 그룹웨어의 '마이페이지' 메뉴에서 직접 수정하거나 관리부서에 요청할 수 있습니다.</li>
        </ul>

        <h3>제7조 (개인정보 보호 조치)</h3>
        <ul>
            <li>회사는 직원의 개인정보를 안전하게 보호하기 위해 접근 제한, 암호화 등 필요한 기술적·관리적 조치를 취하고 있습니다.</li>
            <li>그룹웨어에 등록된 정보는 업무 목적으로만 활용되어야 하며, 개인적 용도로 무단 수집, 저장, 유출하는 행위는 엄격히 금지됩니다.</li>
        </ul>

        <h3>제8조 (기타 사항)</h3>
        <ul>
            <li>본 동의서에서 정하지 않은 사항은 관련 법령 및 회사의 개인정보 보호정책에 따릅니다.</li>
            <li>개인정보 처리에 관한 문의사항은 HR부서(내선번호: 1234) 또는 그룹웨어 관리자(admin@techx.com)에게 연락하시기 바랍니다.</li>
        </ul>
    </div>

    <div class="checkbox-group">
        <div class="checkbox-item">
            <input type="checkbox" id="agree-all">
            <label for="agree-all"><strong>모든 약관에 동의합니다.</strong></label>
        </div>
        <div class="checkbox-item">
            <input type="checkbox" id="agree-terms" class="required">
            <label for="agree-terms"><span class="attention">[필수]</span> 조직도 및 연락처 정보 제공에 동의합니다.</label>
        </div>
        <div class="checkbox-item">
            <input type="checkbox" id="agree-privacy" class="required">
            <label for="agree-privacy"><span class="attention">[필수]</span> 개인정보 수집 및 이용에 동의합니다.</label>
        </div>
        <div class="checkbox-item">
            <input type="checkbox" id="agree-optional" class="required">
            <label for="agree-optional"><span class="attention">[필수]</span> 프로필 사진 및 휴대전화 번호 공개에 동의합니다.</label>
        </div>
    </div>

    <div class="btn-group">
        <button type="button" class="btn btn-secondary" onclick="location.href='/'">취소</button>
        <button type="button" class="btn btn-primary" id="continue-btn">동의하고 계속하기</button>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const agreeAll = document.getElementById('agree-all');
        const requiredChecks = document.querySelectorAll('.required');
        const allChecks = document.querySelectorAll('input[type="checkbox"]');
        const continueBtn = document.getElementById('continue-btn');

        // 전체 동의 체크박스 이벤트
        agreeAll.addEventListener('change', function() {
            allChecks.forEach(check => {
                check.checked = agreeAll.checked;
            });
            updateButtonState();
        });

        // 개별 체크박스 이벤트
        // allChecks.forEach(check => {
        //     check.addEventListener('change', function() {
        //         // 모든 체크박스가 체크되어 있으면 전체 동의도 체크
        //         const allChecked = Array.from(allChecks).every(c => c.checked);
        //         agreeAll.checked = allChecked;
        //         updateButtonState();
        //     });
        // });

        // 개별 체크박스 이벤트
        allChecks.forEach(check => {
            check.addEventListener('change', function() {
                // "모든 약관에 동의합니다" 체크박스를 제외한 나머지 모든 체크박스가 체크되어 있는지 확인
                const allIndividualChecked = Array.from(allChecks)
                    .filter(c => c !== agreeAll) // "모든 약관에 동의합니다" 체크박스 제외
                    .every(c => c.checked);

                // 모든 개별 체크박스가 체크되어 있으면 "모든 약관에 동의합니다" 체크박스도 체크
                agreeAll.checked = allIndividualChecked;

                updateButtonState();
            });
        });

        // 버튼 활성화 상태 업데이트
        function updateButtonState() {
            const requiredChecked = Array.from(requiredChecks).every(c => c.checked);
            continueBtn.disabled = !requiredChecked;

            if (requiredChecked) {
                continueBtn.style.opacity = 1;
            } else {
                continueBtn.style.opacity = 0.6;
            }
        }

        // 계속하기 버튼 클릭 이벤트
        continueBtn.addEventListener('click', function() {
            if (!continueBtn.disabled) {
                // 선택 동의 값 확인
                const optionalAgreed = document.getElementById('agree-optional').checked;

                // 세션 스토리지에 동의 정보 저장
                sessionStorage.setItem('termsAgreed', 'true');
                sessionStorage.setItem('optionalAgreed', optionalAgreed ? 'true' : 'false');

                // 회원가입 페이지로 이동
                location.href = '/auth/signup';
            }
        });

        // 초기 버튼 상태 설정
        updateButtonState();
    });
</script>
</body>
</html>
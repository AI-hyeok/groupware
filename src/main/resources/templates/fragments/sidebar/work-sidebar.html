<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Work Management Sidebar</title>
</head>
<body>
<!-- 업무 관리 사이드바 fragment -->
<div th:fragment="work-sidebar" class="col-md-2 work-sidebar">
  <div class="nav flex-column">
    <a th:href="@{/workmanagement}" class="nav-link" >
      <i class="fas fa-tasks"></i> 업무
    </a>
    <a th:href="@{/workmanagement/register}" class="nav-link">
      <i class="fas fa-plus-circle"></i> 등록
    </a>
    <a th:href="@{/workmanagement/schedule}" class="nav-link" >
      <i class="fas fa-calendar-alt"></i> 일정
    </a>
  </div>
</div>

<!-- 사이드바 스타일시트 -->
<th:block th:fragment="sidebar-styles">
  <style>
    .work-sidebar {
      background-color: #f8f9fa;
      border-right: 1px solid #dee2e6;
      min-height: calc(100vh - 56px);
      padding-top: 20px;
    }

    .work-sidebar .nav-link {
      color: #495057;
      padding: 0.5rem 1rem;
      margin-bottom: 5px;
      border-radius: 5px;
      transition: all 0.3s;
    }

    .work-sidebar .nav-link:hover {
      background-color: #e9ecef;
    }

    .work-sidebar .nav-link.active {
      background-color: #007bff;
      color: white;
    }

    .work-sidebar .nav-link i {
      margin-right: 10px;
      width: 20px;
      text-align: center;
    }

    @media (max-width: 768px) {
      .work-sidebar {
        position: fixed;
        z-index: 100;
        width: 250px;
        transform: translateX(-100%);
        transition: transform 0.3s;
      }

      .work-sidebar.show {
        transform: translateX(0);
      }
    }
  </style>
</th:block>

<!-- 사이드바 스크립트 -->
<th:block th:fragment="sidebar-scripts">
  <script>
    $(document).ready(function() {
      // 현재 URL에 따라 사이드바 메뉴 활성화
      const path = window.location.pathname;
      $('.work-sidebar .nav-link').removeClass('active');

      if (path.endsWith('/register')) {
        $('.work-sidebar .nav-link[href$="/register"]').addClass('active');
      } else if (path.endsWith('/schedule')) {
        $('.work-sidebar .nav-link[href$="/schedule"]').addClass('active');
      } else if (path.endsWith('/workmanagement')) {
        $('.work-sidebar .nav-link[href$="/workmanagement"]').addClass('active');
      }

      // 모바일 토글 버튼 (필요시 추가)
      $('#sidebar-toggle').on('click', function() {
        $('.work-sidebar').toggleClass('show');
      });
    });
  </script>
</th:block>
</body>
</html>